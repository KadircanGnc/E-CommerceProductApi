@page "/"
 
@inject ProductService ProductService

<PageTitle>Welcome to Shop</PageTitle>

		<!-- Start Header/Navigation -->
		<nav class="custom-navbar navbar navbar navbar-expand-md navbar-dark bg-dark" arial-label="Furni navigation bar">

			<div class="container">
				<a class="navbar-brand" href="index.html">KADIR SHOP<span></span></a>

				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsFurni" aria-controls="navbarsFurni" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div class="collapse navbar-collapse" id="navbarsFurni">
					<ul class="custom-navbar-nav navbar-nav ms-auto mb-2 mb-md-0">
																	
					</ul>

					<ul class="custom-navbar-cta navbar-nav mb-2 mb-md-0 ms-5">
						<li><a class="nav-link" href="#"><img src="images/user.svg"></a></li>
						<li><a class="nav-link" href="cart.html"><img src="images/cart.svg"></a></li>
					</ul>
				</div>
			</div>

		</nav>
		<!-- End Header/Navigation -->


		<div class="untree_co-section product-section before-footer-section">
			<div class="container">
				  <div class="row">
					  @foreach (var product in products!)
					  {
							<div class="col-12 col-md-4 col-lg-3 mb-5">
								<a class="product-item" href="#">
									<img src="@product.ImageUrl" class="img-fluid product-thumbnail" alt="@product.Name">
									<h3 class="product-title">@product.Name</h3>
										<strong class="product-price">TRY @product.Price</strong><br/>
										<strong class="product-stockCount">Stock: @product.StockCount</strong>
										<span class="icon-cross">
										<img src="images/cross.svg" class="img-fluid">
									</span>
								</a>
							</div>
				
					  }
				  </div>
			</div>
		</div>


		<!-- Start Footer Section -->
		<footer class="footer-section">
			<div class="container relative">

				<div class="sofa-img">
					<img src="images/sofa.png" alt="Image" class="img-fluid">
				</div>
				

				<div class="row g-5 mb-5">
					<div class="col-lg-4">
						<div class="mb-4 footer-logo-wrap"><a href="#" class="footer-logo">KADIR SHOP</a></div>
						<p class="mb-4">Tüm hakları saklıdır</p>

					</div>
					

				</div>				

			</div>
		</footer>
		<!-- End Footer Section -->

@code
{
	public List<GetProductDTO>? products = new List<GetProductDTO>();

	protected override async Task OnInitializedAsync()
	{
		try
		{
			products = await ProductService.GetProducts();
		}
		catch (Exception ex)
		{
			// Log exception or handle error
			Console.WriteLine(ex.Message);
		}
	}
}
